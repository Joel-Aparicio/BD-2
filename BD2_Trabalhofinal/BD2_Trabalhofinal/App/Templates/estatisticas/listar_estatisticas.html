{% extends 'header.html' %}

{% block title %}Estatísticas dos Jogos{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="text-center">Estatísticas dos Jogos</h1>
    <div class="text-end mb-3">
        <!-- Espaço para botões ou ações adicionais, se necessário -->
    </div>

    {% if estatisticas %}
    <div class="table-responsive">
        <table class="table table-bordered table-hover">
            <thead class="table-dark">
                <tr>
                    <th>Tipo</th>
                    <th>Jogador</th>
                    <th>Clube</th>
                    <th>Minuto</th>
                    <th>Compensação</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                <!-- Iteração sobre cada tipo de estatística -->
                {% for tipo, lista in estatisticas.items %}
                    {% for estatistica in lista %}
                    <tr>
                        <td>{{ tipo|title }}</td>
                        
                        <!-- Dados específicos para cada tipo -->
                        {% if tipo == 'golos' %}
                        <td>{{ estatistica.jogador.nome }}</td>
                        <td>{{ estatistica.clube.nome }}</td>
                        <td>{{ estatistica.minuto }}</td>
                        <td>{{ estatistica.compensacao }}</td>
                        
                        {% elif tipo == 'penaltis' %}
                        <td>{{ estatistica.jogador.nome }}</td>
                        <td>{{ estatistica.clube.nome }}</td>
                        <td>{{ estatistica.golo|yesno:"Sim,Não" }}</td>
                        <td>-</td>

                        {% elif tipo == 'faltas' %}
                        <td>{{ estatistica.jogador.nome }}</td>
                        <td>{{ estatistica.clube.nome }}</td>
                        <td>{{ estatistica.minuto }}</td>
                        <td>{{ estatistica.compensacao }}</td>

                        {% elif tipo == 'substituicoes' %}
                        <td>{{ estatistica.jogador_sai.nome }} → {{ estatistica.jogador_entra.nome }}</td>
                        <td>{{ estatistica.clube.nome }}</td>
                        <td>{{ estatistica.minuto }}</td>
                        <td>{{ estatistica.compensacao }}</td>
                        {% endif %}

                        <!-- Coluna de ações (ajuste conforme necessidade) -->
                        <td>
                            <!-- Espaço reservado para botões ou ações adicionais -->
                        </td>
                    </tr>
                    {% endfor %}
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="alert alert-info text-center">Nenhuma estatística encontrada.</div>
    {% endif %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}